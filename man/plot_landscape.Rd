% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/functions.R
\name{plot_landscape}
\alias{plot_landscape}
\title{Plot Landscape with World Coordinates}
\usage{
plot_landscape(
  landscape_data,
  cell_size = 1,
  filename = NULL,
  main = "Landscape (World Coordinates)",
  colors = "habitat",
  show_legend = TRUE,
  add_grid = TRUE
)
}
\arguments{
\item{landscape_data}{Either:
\itemize{
  \item A numeric matrix of habitat values (dimensions: rows × columns)
  \item A list with a \code{$habitat} component (output from \code{\link{create_fractal_landscape}}
    or landscape creation functions)
}}

\item{cell_size}{Numeric. Size of each landscape cell in world units. Should match
the cell_size parameter used in \code{\link{twolife_simulation}}. Together with
matrix dimensions, defines world_width and world_height.}

\item{filename}{Character. Optional file path to save plot (e.g., "landscape.png").
If NULL, displays interactively in the active graphics device.}

\item{main}{Character. Plot title displayed at the top of the figure.}

\item{colors}{Character. Color scheme for habitat visualization:
\itemize{
  \item "habitat" - Custom green gradient (white = 0 = matrix/unsuitable, 
    dark green = 1 = optimal habitat). Emphasizes habitat vs. matrix distinction.
  \item "terrain" - R's built-in terrain.colors() palette (green-brown-white gradient).
    General-purpose landscape visualization.
  \item "viridis" - Perceptually uniform viridis color scale (requires viridisLite package).
    Best for continuous habitat value gradients and colorblind-friendly displays.
}}

\item{show_legend}{Logical. If TRUE, displays color legend showing mapping between
habitat values and colors.}

\item{add_grid}{Logical. If TRUE, adds:
\itemize{
  \item Gray grid lines at cell boundaries
  \item Red crosshairs marking origin (0, 0)
}}
}
\value{
NULL, invisibly. Function is called for its side effect (creating a plot).
}
\description{
Visualizes landscape habitat values in the world coordinate system used by 
TWoLife simulations. Displays proper axis scaling, centered origin, and 
optional grid overlay. Essential for understanding spatial context of 
simulation results and verifying landscape structure.
}
\details{
## World Coordinate System

TWoLife uses a centered coordinate system where:

\deqn{x \in \left[-\frac{W}{2}, +\frac{W}{2}\right], \quad y \in \left[-\frac{H}{2}, +\frac{H}{2}\right]}

Where:
\itemize{
  \item \eqn{W = \text{ncol}(\text{habitat}) \times \text{cell\_size}} = world_width
  \item \eqn{H = \text{nrow}(\text{habitat}) \times \text{cell\_size}} = world_height
  \item Origin (0, 0) is at the landscape center
  \item Individual positions (x, y) are continuous within these bounds
}

## Coordinate Mapping

Matrix indices map to world coordinates via:

\deqn{x_{\text{center}} = \left(\text{col} - \frac{\text{ncol}}{2}\right) \times \text{cell\_size}}
\deqn{y_{\text{center}} = \left(\text{row} - \frac{\text{nrow}}{2}\right) \times \text{cell\_size}}

Important notes:
\itemize{
  \item Matrix row 1 (top) maps to positive y values
  \item Matrix column 1 (left) maps to negative x values
  \item Each cell spans ±cell_size/2 around its center
}

## Color Palette Details

\tabular{llll}{
  \strong{Palette} \tab \strong{Range} \tab \strong{Best For} \tab \strong{Properties} \cr
  "habitat" \tab White → Dark Green \tab Binary landscapes \tab Clear matrix/habitat contrast \cr
  "terrain" \tab Green → Brown → White \tab Natural landscapes \tab Traditional terrain visualization \cr
  "viridis" \tab Purple → Green → Yellow \tab Continuous gradients \tab Perceptually uniform, colorblind-safe \cr
}

## Rectangular Landscapes

The function automatically handles non-square landscapes:
\itemize{
  \item Maintains correct aspect ratio
  \item Adjusts axis limits independently for x and y
  \item Preserves cell_size scaling in both dimensions
}

## Grid Overlay

When add_grid = TRUE:
\itemize{
  \item **Gray lines**: Mark boundaries between landscape cells (aid in counting cells,
    measuring distances)
  \item **Red crosshairs**: Show (0, 0) origin (reference point for individual positions)
}

## Visualization Best Practices

\itemize{
  \item **Match simulation parameters**: Always use the same cell_size as in your simulation
  \item **Verify scale**: Check that world dimensions match simulation output spatial range
  \item **Color choice**: Use "habitat" for binary, "viridis" for continuous gradients
  \item **Grid for precision**: Enable grid when analyzing specific spatial positions
}
}
\examples{
set.seed(50)
landscape_continuous <- create_fractal_landscape(
  cells_per_row = 5,
  fractality    = 0.5,
  min_value     = 0.0,
  max_value     = 100.0,
  return_as_landscape_params = TRUE
)

# Basic plot
plot_landscape(landscape_continuous)

# Customize title
plot_landscape(landscape_continuous, main = "Continuous Habitat Landscape")

# Binary landscape
set.seed(100)
landscape_binary <- create_fractal_landscape(
  cells_per_row      = 5,
  fractality         = 0.5,
  habitat_proportion = 0.4,
  return_as_landscape_params = TRUE
)
plot_landscape(landscape_binary, main = "Binary Landscape")
}
\seealso{
\code{\link{plot_simulation_on_landscape}} to overlay simulation results,
  \code{\link{create_fractal_landscape}} for landscape generation,
  \code{\link{twolife_simulation}} for running simulations with landscapes
}
